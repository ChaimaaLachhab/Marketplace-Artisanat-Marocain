<section class="file-upload">
  <div class="d-flex justify-content-between align-items-center">
    <h2>Upload Files</h2>
    <button class="cancel-button mb-3" (click)="onClear()" [disabled]="files.length === 0">Clear</button>
  </div>
  <div class="upload-area" (click)="fileInput.click()">
    <input #fileInput type="file" (change)="onFileSelect($event)" accept="image/*,video/*" [multiple]="true" hidden>
    <img
      *ngIf="files.length === 0"
      src="https://cdn.builder.io/api/v1/image/assets/TEMP/d5bf26075b1f6435deae7b0807d1be652adbc8b3471b45fa1d15e6061dafe18f?placeholderIfAbsent=true&apiKey=4bd7f7a51e424385abb4e97f8d321ab4"
      alt="Upload Icon"
      class="upload-icon"
    />
    <p *ngIf="files.length === 0" class="upload-text">Drop files here</p>
    <p *ngIf="files.length === 0" class="upload-format">Supported format: PNG, JPG, MP4</p>
    <p *ngIf="files.length === 0" class="upload-or">OR</p>
    <button *ngIf="files.length === 0" class="browse-button">Browse files</button>

    <!-- Previews -->
    <div class="preview">
      <div *ngFor="let file of files; let i = index" class="preview-item">
        <button class="delete-button" (click)="removeFile(i, $event)">X</button>
        <img *ngIf="!file.isVideo" [src]="file.preview" alt="Image Preview" class="preview-image" />
        <video *ngIf="file.isVideo" controls>
          <source [src]="file.preview" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <p>{{ file.file.name }} ({{ file.file.size | number }} bytes)</p>
      </div>
    </div>
  </div>
</section>
